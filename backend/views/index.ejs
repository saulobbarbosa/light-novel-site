<%- include('partials/header') %>

<!-- Seção do Carrossel de Mais Lidas -->
<section class="mb-12">
    <h1 class="text-3xl font-bold text-white mb-6 border-l-4 border-purple-500 pl-4">Mais Lidas</h1>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6">
        <% if (mostRead && mostRead.length > 0) { %>
            <% mostRead.forEach(novel => { %>
                <a href="/novels/<%= novel._id %>" class="group">
                    <div class="bg-gray-800 rounded-lg overflow-hidden shadow-lg transform hover:scale-105 transition-transform duration-300">
                        <img src="<%= novel.coverImage %>" alt="Capa de <%= novel.title %>" class="w-full h-64 object-cover">
                        <div class="p-4">
                            <h3 class="text-lg font-semibold text-white truncate group-hover:text-purple-400"><%= novel.title %></h3>
                        </div>
                    </div>
                </a>
            <% }) %>
        <% } else { %>
            <p class="col-span-full text-center">Nenhuma novel popular encontrada.</p>
        <% } %>
    </div>
</section>

<!-- Seção de Atualizações Recentes -->
<section>
    <h1 class="text-3xl font-bold text-white mb-6 border-l-4 border-purple-500 pl-4">Atualizações Recentes</h1>
    <div class="space-y-4">
        <% if (recentlyUpdated && recentlyUpdated.length > 0) { %>
            <% recentlyUpdated.forEach(novel => { %>
                <a href="/novels/<%= novel._id %>" class="block bg-gray-800 p-4 rounded-lg hover:bg-gray-700 transition duration-300">
                    <div class="flex items-center space-x-4">
                        <img src="<%= novel.coverImage %>" alt="Capa de <%= novel.title %>" class="w-16 h-24 object-cover rounded">
                        <div>
                            <h3 class="text-xl font-bold text-white"><%= novel.title %></h3>
                            <% if (novel.chapters.length > 0) { %>
                                <% const lastChapter = novel.chapters[novel.chapters.length - 1]; %>
                                <p class="text-purple-400">Último: <span class="text-gray-300"><%= lastChapter.title %></span></p>
                            <% } else { %>
                                <p class="text-gray-400">Nenhum capítulo ainda.</p>
                            <% } %>
                        </div>
                    </div>
                </a>
            <% }) %>
        <% } else { %>
            <p class="text-center">Nenhuma atualização recente.</p>
        <% } %>
    </div>
</section>

<%- include('partials/footer') %>
