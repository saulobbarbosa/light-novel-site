<%- include('partials/header') %>

<div class="max-w-md mx-auto bg-gray-800 p-8 rounded-lg shadow-xl">
    <h1 class="text-2xl font-bold text-center text-white mb-6">Registrar</h1>
     <% if (typeof error !== 'undefined' && error) { %>
        <div class="bg-red-500 text-white p-3 rounded mb-4"><%= error %></div>
    <% } %>
    <form id="register-form" action="/auth/register" method="POST">
        <div class="mb-4">
            <label for="username" class="block text-gray-300 mb-2">Usuário</label>
            <input type="text" id="username" name="username" class="w-full bg-gray-700 text-white p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500" required>
        </div>
        <div class="mb-4">
            <label for="password" class="block text-gray-300 mb-2">Senha</label>
            <input type="password" id="password" name="password" class="w-full bg-gray-700 text-white p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500" required>
        </div>
        <div class="mb-6">
            <label for="confirmPassword" class="block text-gray-300 mb-2">Confirmar Senha</label>
            <input type="password" id="confirmPassword" name="confirmPassword" class="w-full bg-gray-700 text-white p-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500" required>
        </div>
        <button type="submit" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded transition duration-300">Registrar</button>
    </form>
</div>

<script>
    document.getElementById('register-form').addEventListener('submit', function(e) {
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirmPassword').value;
        
        if (password !== confirmPassword) {
            e.preventDefault(); // Impede o envio do formulário
            showModal('Erro de Validação', 'As senhas não coincidem. Por favor, tente novamente.', null, 'Entendi');
        }
    });
</script>

<%- include('partials/footer') %>
